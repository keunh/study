자바와 동일하게 코틀린도 정적 타입 지정 언어다.

프로그램 구성 요소의 타입을 컴파일 시점에 알 수 있고, 필드나 메소드를 사용할 때마다 컴파일러가 타입을 검증해준다는 뜻이다.

JVM에서는 그루비나 JRuby가 대표적 동적 타입 지정 언어다. 동적은 실행 시점에 오류가 발생한다.

코틀린 컴파일러는 문맥으로부터 변수 타입을 자동으로 유추할 수 있어서 타입 선언을 생략해도 된다.

⇒ 타입 추론

### 정적 타입 지정의 장점

- 성능 : 실행 시점에 어떤 메소드를 호출하는지 알아내는 과정이 필요없어 메소드 호출이 더 빠르다.
- 신뢰성 : 컴파일러가 프로그램의 정확성을 검증하기 때문에 실행 시 프로그램 오류로 중단될 가능성이 더 적어진다.
- 도구 지원 : 안전하게 리팩토링 가능

### 코틀린의 중요 특성

- 코틀린이 널이 될 수 있는 타입을 지원함에 따라 컴파일 시점에 널 포인터 예외가 발생할 수 있는지 여부를 검사할 수 있어 신뢰성을 높일 수 있다.
- 함수 타입에 대한 지원

### 함수형 프로그래밍

- 일급 시민인 함수 : 함수를 일반 값처럼 다룰 수 있다. 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 전달할 수 있으며, 함수에서 새로운 함수를 만들어서 반환할 수 있다.
- 불변성 : 함수형 프로그래밍에서는 일단 만들어지고 나면 내부 상태가 절대로 바뀌지 않는 불변 객체를 사용해 프로그램을 작성한다.
- 부수 효과 없음 : 입력이 같으면 항상 같은 출력을 내놓으며, 다른 객체의 상태를 변경하지 않으며 함수 외부나 다른 바깥 환경과 상호작용하지 않는 순수 함수를 사용한다.

간결성, 추상화로 코드 중복을 막을 수 있고, 다중 스레드를 사용해도 안전하며(불변에 순수 함수라), 테스트하기 쉬운 장점이 있다.

### 코틀린의 함수형 프로그래밍 지원

- 함수 타입 지원하여 어떤 함수가 다른 함수를 파라미터로 받거나 함수가 새로운 함수 반환 가능
- 람다식을 지원하여 코드 불록을 쉽게 정의하고 전달 가능
- 데이터 클래스는 불변적인 값 객체를 간편하게 만들 수 있는 구문을 제공
- 코틀린 표준 라이브러리는 객체와 컬렉션을 함수형 스타일로 다를 수 있는 API를 제공

### 코틀린과 자바

자바 클래스를 코틀린으로 확장해도, 코틀린 클래스 안의 메소드나 필드에 특정 자바 애노테이션을 붙여도 문제가 없다.

코틀린은 자바 6과 완전히 호환된다

대부분의 코틀린 표준 라이브러리 함수는 인자로 받은 람다 함수를 **인라이닝(inlining)** 한다. 따라서 람다를 사용해도 새로운 객체가 만들어지지 않으므로 객체 증가로 인해 가비지 컬렉션(GC)이 늘어나서 프로그램이 자주 멈추는 일도 없다.

### 코틀린의 안전성

코틀린 컴파일러가 타입을 자동으로 추론해주기 때문에 직접 타입 정보를 지정할 필요가 없다.

코틀린의 타입 시스템은 null이 될 수 없는 값을 추적하며, 실행 시점에 NPE가 발생할 수 있는 연산을 사용하는 코드를 금지한다.

ClassCassException 도 방지해준다. 코틀린에서는 타입 검사와 캐스트가 한 연산자에 의해 이뤄진다. 타입 검사만 하면 별도 캐스트 없이 사용할 수 있다.

### 코틀린의 상호운용성

코틀린은 자체 컬렉션 라이브러리를 제공하지 않고 자바 표준 라이브러리 클래스에 의존한다. 다만 몇 가지 기능을 더할 뿐이다.

자바 메소드 → 코틀린, 코틀린 메소드 → 자바로 변경도 가능하다.

### 코틀린 코드 컴파일

코틀린 컴파일러는 자바컴파일러가 자바 소스코드를 컴파일할 때와 마찬가지로 코틀린 소스코드를 분석해서 .class 파일을 만들어낸다. .class 파일은 개발 중인 애플리케이션의 유형에 맞는 표준 패키징 과정을 거쳐 실행될 수 있다.

커맨드라인에 kotlinc 명령을 통해 코틀린 코드를 컴파일한 다음 java 명령으로 그 코드를 실행할 것이다.

코틀린 컴파일러로 컴파일한 코드는 코틀린 런타임 라이브러리에 의존한다.

런타임 라이브러리에는 코틀린 자체 표준 라이브러리 클래스와 코틀린에서 자바 API의 기능을 확장한 내용이 들어있다. 코틀린으로 컴파일한 애플리케이션을 배포할 때는 런타임 라이브러리도 함께 배포해야 한다.

메이븐과 그레이들은 애플리케이션을 패키지할 때 알아서 코틀린 런타임을 포함시켜준다.
